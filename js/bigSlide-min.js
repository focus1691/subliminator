!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){"use strict";function t(e,t){for(var s,i=e.split(";"),n=t.split(" "),h="",a=0,d=i.length;a<d;a++){s=!0;for(var o=0,r=n.length;o<r;o++)""!==i[a]&&i[a].indexOf(n[o])===-1||(s=!1);s&&(h+=i[a]+"; ")}return h}e.fn.bigSlide=function(s){var i=this,n=e.extend({menu:"#menu",push:".push",shrink:".shrink",hiddenThin:".hiddenThin",side:"left",menuWidth:"15.625em",semiOpenMenuWidth:"4em",speed:"300",state:"open",activeBtn:"active",easyClose:!1,saveState:!1,semiOpenStatus:!1,semiOpenScreenWidth:480,beforeOpen:function(){},afterOpen:function(){},beforeClose:function(){},afterClose:function(){}},s),h="transition -o-transition -ms-transition -moz-transitions webkit-transition "+n.side,a={menuCSSDictionary:h+" position top bottom height width",pushCSSDictionary:h,state:n.state},d={init:function(){o.init()},_destroy:function(){return o._destroy(),delete i.bigSlideAPI,i},changeState:function(){"closed"===a.state?a.state="open":a.state="closed"},setState:function(e){a.state=e},getState:function(){return a.state}},o={init:function(){this.$menu=e(n.menu),this.$push=e(n.push),this.$shrink=e(n.shrink),this.$hiddenThin=e(n.hiddenThin),this.width=n.menuWidth,this.semiOpenMenuWidth=n.semiOpenMenuWidth;var t={position:"fixed",top:"0",bottom:"0",height:"100%"},s={"-webkit-transition":n.side+" "+n.speed+"ms ease","-moz-transition":n.side+" "+n.speed+"ms ease","-ms-transition":n.side+" "+n.speed+"ms ease","-o-transition":n.side+" "+n.speed+"ms ease",transition:n.side+" "+n.speed+"ms ease"},h={"-webkit-transition":"all "+n.speed+"ms ease","-moz-transition":"all "+n.speed+"ms ease","-ms-transition":"all "+n.speed+"ms ease","-o-transition":"all "+n.speed+"ms ease",transition:"all "+n.speed+"ms ease"},a=!1;t[n.side]="-"+n.menuWidth,t.width=n.menuWidth;var r="closed";n.saveState?(r=localStorage.getItem("bigSlide-savedState"),r||(r=n.state)):r=n.state,d.setState(r),this.$menu.css(t);var c=e(window).width();"closed"===r?n.semiOpenStatus&&c>n.semiOpenScreenWidth?(this.$hiddenThin.hide(),this.$menu.css(n.side,"0"),this.$menu.css("width",this.semiOpenMenuWidth),this.$push.css(n.side,this.semiOpenMenuWidth),this.$shrink.css({width:"calc(100% - "+this.semiOpenMenuWidth+")"}),this.$menu.addClass("semiOpen")):this.$push.css(n.side,"0"):"open"===r&&(this.$menu.css(n.side,"0"),this.$push.css(n.side,this.width),this.$shrink.css({width:"calc(100% - "+this.width+")"}),i.addClass(n.activeBtn));var u=this;i.on("click.bigSlide touchstart.bigSlide",function(e){a||(u.$menu.css(s),u.$push.css(s),u.$shrink.css(h),a=!0),e.preventDefault(),"open"===d.getState()?o.toggleClose():o.toggleOpen()}),n.semiOpenStatus&&e(window).resize(function(){var t=e(window).width();t>n.semiOpenScreenWidth?"closed"===d.getState()&&(u.$hiddenThin.hide(),u.$menu.css({width:u.semiOpenMenuWidth}),u.$menu.css(n.side,"0"),u.$push.css(n.side,u.semiOpenMenuWidth),u.$shrink.css({width:"calc(100% - "+u.semiOpenMenuWidth+")"}),u.$menu.addClass("semiOpen")):(u.$menu.removeClass("semiOpen"),"closed"===d.getState()&&(u.$menu.css(n.side,"-"+u.width).css({width:u.width}),u.$push.css(n.side,"0"),u.$shrink.css("width","100%"),u.$hiddenThin.show()))}),n.easyClose&&e(document).on("click.bigSlide",function(t){e(t.target).parents().andSelf().is(i)||e(t.target).closest(n.menu).length||"open"!==d.getState()||o.toggleClose()})},_destroy:function(){this.$menu.each(function(){var s=e(this);s.attr("style",t(s.attr("style"),a.menuCSSDictionary).trim())}),this.$push.each(function(){var s=e(this);s.attr("style",t(s.attr("style"),a.pushCSSDictionary).trim())}),this.$shrink.each(function(){var s=e(this);s.attr("style",t(s.attr("style"),a.pushCSSDictionary).trim())}),i.removeClass(n.activeBtn).off("click.bigSlide touchstart.bigSlide"),this.$menu=null,this.$push=null,this.$shrink=null,localStorage.removeItem("bigSlide-savedState")},toggleOpen:function(){n.beforeOpen(),d.changeState(),o.applyOpenStyles(),i.addClass(n.activeBtn),n.afterOpen(),n.saveState&&localStorage.setItem("bigSlide-savedState","open")},toggleClose:function(){n.beforeClose(),d.changeState(),o.applyClosedStyles(),i.removeClass(n.activeBtn),n.afterClose(),n.saveState&&localStorage.setItem("bigSlide-savedState","closed")},applyOpenStyles:function(){var t=e(window).width();n.semiOpenStatus&&t>n.semiOpenScreenWidth?(this.$hiddenThin.show(),this.$menu.animate({width:this.width},{duration:Math.abs(n.speed-100),easing:"linear"}),this.$push.css(n.side,this.width),this.$shrink.css({width:"calc(100% - "+this.width+")"}),this.$menu.removeClass("semiOpen")):(this.$menu.css(n.side,"0"),this.$push.css(n.side,this.width),this.$shrink.css({width:"calc(100% - "+this.width+")"}))},applyClosedStyles:function(){var t=e(window).width();n.semiOpenStatus&&t>n.semiOpenScreenWidth?(this.$hiddenThin.hide(),this.$menu.animate({width:this.semiOpenMenuWidth},{duration:Math.abs(n.speed-100),easing:"linear"}),this.$push.css(n.side,this.semiOpenMenuWidth),this.$shrink.css({width:"calc(100% - "+this.semiOpenMenuWidth+")"}),this.$menu.addClass("semiOpen")):(this.$menu.css(n.side,"-"+this.width),this.$push.css(n.side,"0"),this.$shrink.css("width","100%"))}};return d.init(),this.bigSlideAPI={settings:n,model:a,controller:d,view:o,destroy:d._destroy},this}});